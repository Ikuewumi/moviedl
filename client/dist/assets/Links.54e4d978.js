import{l as Y,c as m,e as b,t as V,x as U,q as x,B as H,g as s,N as P,k as A,d as B,O as w,r as z,v as N,F as j,f as D,h as C,j as L,P as K,s as T,T as M,Q as O,b as q,R as I,m as G,S as Q,U as J}from"./index.be173f1f.js";import{a as R}from"./Metadata.0bc40099.js";const W={"data-component-input":"",class:"grid a-center"},X=["for"],Z=["name","placeholder"],ee={key:1,class:"mt-1"},te=A("More information"),Te={props:["name","label","modelValue","p"],emits:["update:modelValue"],setup(f,{emit:l}){const e=f,g=Y({get(){return e.modelValue},set(d){l("update:modelValue",d)}});return(d,$)=>(m(),b("div",W,[f.label?(m(),b("label",{key:0,for:f.name,"data-label":""},V(f.label),9,X)):U("",!0),x(s("input",{type:"text",name:f.name,"data-input":"",placeholder:f.p,"onUpdate:modelValue":$[0]||($[0]=u=>g.value=u)},null,8,Z),[[H,g.value]]),d.$slots.about?(m(),b("small",ee,[P(d.$slots,"about",{},()=>[te])])):U("",!0),P(d.$slots,"more")]))}};const oe={class:"flex a-center flex-wrap g-2 pbl-3"},ne={"data-select":""},se=s("option",{value:"episode"},"episode",-1),ae=s("option",{value:"batch"},"batch",-1),ie=s("option",{value:"special"},"special",-1),le=[se,ae,ie],re={key:0,"data-select":""},ue=["value"],ce={"data-select":""},de=["value"],pe=B({props:{data:null,i:null,totalEpisodes:null,_open:{type:Boolean}},emits:["custom-change","custom-focus","custom-delete"],setup(f,{emit:l}){const e=f,g={off:{height:0,duration:.3,ease:"cosine"},on:{height:"auto",duration:.3,ease:"sine"}},[d,$]=O(g.off,g.on);function u(n){const a=[];for(let i=1;i<=n;i++)a.push(i);return a}const v=n=>n.trim()===""?[]:n.split(`
`).map(a=>a.trim()),_=n=>n.join(`
`),E=w({get:()=>_(e.data.links),set:n=>{l("custom-change",e==null?void 0:e.i,{...o(e.data.id==="episode"),links:v(n)})}}),y=w({get:()=>{var n;return(n=e.data.id)!=null?n:"episode"},set:n=>{l("custom-change",e.i,{...o(n==="episode"),id:n})}}),t=w({get:()=>{var n;return(n=e.data.type)!=null?n:"480p"},set:n=>{l("custom-change",e.i,{...o(e.data.id==="episode"),type:n})}});function o(n=!0){var i;const a={...e.data};return n?a.number=(i=a.number)!=null?i:1:delete a.number,a}const k=w(()=>Boolean(e.data.id==="episode")),r=w({get:()=>e.data.id==="episode"?e.data.number:0,set:n=>{if(e.data.id!=="episode")return!1;const a=Number(n);if(!a)return!1;l("custom-change",e.i,{...o(),number:a})}}),c=w(()=>e.data.id==="episode"?u(e.totalEpisodes):[]),p=z({text:E,type:t,id:y,episodesArray:c,isEpisode:k,currentEpisode:r}),h=z({text:"",validTypes:["480p","540p","720p","1080p","2160p","4K","other"]}),F=()=>l("custom-delete",e.i),S=n=>{n.classList.contains("close")||l("custom-focus",e.i)};return(n,a)=>(m(),b("div",{class:"grid a-center br-6",tabindex:"0",onClick:a[4]||(a[4]=i=>S(i.target)),"data-component-link":"","data-padded":""},[s("div",oe,[s("div",ne,[x(s("select",{name:"id","onUpdate:modelValue":a[0]||(a[0]=i=>p.value.id=i),class:"bg-white"},le,512),[[N,p.value.id]])]),p.value.isEpisode?(m(),b("div",re,[x(s("select",{name:"number",class:"bg-white","onUpdate:modelValue":a[1]||(a[1]=i=>p.value.currentEpisode=i)},[(m(!0),b(j,null,D(p.value.episodesArray,i=>(m(),b("option",{key:i,value:i},V(i),9,ue))),128))],512),[[N,p.value.currentEpisode]])])):U("",!0),s("div",ce,[x(s("select",{name:"type",class:"bg-white","onUpdate:modelValue":a[2]||(a[2]=i=>p.value.type=i)},[(m(!0),b(j,null,D(h.value.validTypes,i=>(m(),b("option",{key:i,value:i},V(i),9,de))),128))],512),[[N,p.value.type]])])]),C(M,{onEnter:T(d),onLeave:T($)},{default:L(()=>[x(C(R,{class:"mb-4",modelValue:p.value.text,"onUpdate:modelValue":a[3]||(a[3]=i=>p.value.text=i),p:"e.g. Different links on different lines"},null,8,["modelValue"]),[[K,f._open]])]),_:1},8,["onEnter","onLeave"]),s("span",{tabindex:"0",onClick:F,class:"close cursor f-emoji br-6 grid a-center j-center"},"\u{1F5D1}")]))}});const me={class:"grid g-3","data-component-links":""},ve=s("h3",{class:"f-round f-size-big"},"Seasons",-1),be={class:"flex flex-wrap g-2 a-center f-size-a-big f-round"},fe=["onClick"],ge=s("hr",null,null,-1),_e=s("span",{class:"f-emoji f-size-normal"},"\u2795",-1),ke=[_e],he=s("span",{class:"f-emoji f-size-small"},"\u{1F4BE}",-1),ye=A(" Save "),we=[he,ye],Be=B({props:{data:null,linksArray:null},emits:["custom-change","add-link","custom-delete","custom-focus","custom-save"],setup(f,{emit:l}){const e=f;z([{season:1,totalEpisodes:5,links:[{id:"episode",number:4,type:"720p",links:["string","http://abcman.com"]}]}]);function g(){var r;l("add-link",{type:"series",seasonNumber:(r=y.currentSeason.value)==null?void 0:r.season})}function d(r,c){var p;l("custom-change",c,{index:r,type:"series",seasonNumber:(p=y.currentSeason.value)==null?void 0:p.season})}function $(r){var c;l("custom-delete",{index:r,type:"series",seasonNumber:(c=y.currentSeason.value)==null?void 0:c.season}),r===v.value.focus&&_.focus(-1)}function u(r){v.value.focus=r}const v=z({i:e.linksArray[0].season,booleans:{preview:!1,alert:!1},focus:-1}),_={tab(r){v.value.i=r},addEpisode:g,focus:u,alert(){v.value.booleans.alert=!0},stopAlert(){v.value.booleans.alert=!1},preview(){v.value.booleans.preview=!0},stopPreview(){v.value.booleans.preview=!1}},y={currentSeason:w(()=>e.linksArray.find(r=>r.season===v.value.i))},t={type:"series",get seasonNumber(){var r,c;return(c=(r=y.currentSeason.value)==null?void 0:r.season)!=null?c:0}};function o(){l("custom-save",t)}const k={save:o};return w(()=>{}),(r,c)=>{const p=q("my-alert");return m(),b("div",me,[ve,s("div",be,[(m(!0),b(j,null,D(e.data.SeriesLinks,h=>(m(),b("span",{class:I(["season br-5 pin-3 pbl-1 bg-bt cursor",v.value.i===h.season?"active":""]),onClick:F=>_.tab(h.season),key:h},V(h.season),11,fe))),128))]),ge,s("div",null,[s("button",{onClick:c[0]||(c[0]=(...h)=>_.addEpisode&&_.addEpisode(...h)),class:"pin-2 pbl-1 f-round br-3 bg-bt c-white f-size-medium btn secondary"},ke)]),C(Q,{name:"link",tag:"ul",class:"grid g-4",appear:""},{default:L(()=>{var h;return[(m(!0),b(j,null,D((h=y.currentSeason.value)==null?void 0:h.links,(F,S)=>{var n;return m(),G(pe,{onCustomFocus:a=>_.focus(S),onCustomDelete:$,totalEpisodes:(n=y.currentSeason.value)==null?void 0:n.totalEpisodes,i:S,key:S,_open:S===v.value.focus,onCustomChange:d,data:F},null,8,["onCustomFocus","totalEpisodes","i","_open","data"])}),128))]}),_:1}),s("button",{class:"pin-7 pbl-3 br-3 bg-bt btn c-white flex a-center j-center g-2 f-size-a-big mt-5 text-center min-auto",onClick:c[1]||(c[1]=(...h)=>_.alert&&_.alert(...h))},we),C(p,{show:v.value.booleans.alert,onDone:k.save,onClose:_.stopAlert},{default:L(()=>[A(" Save `"+V(e.data.Title)+"`? ",1)]),_:1},8,["show","onDone","onClose"])])}}});const $e={"data-select":""},Ce=J('<option value="480p">480p</option><option value="540p">540p</option><option value="720p">720p</option><option value="1080p">1080p</option><option value="2160p">2160p</option><option value="4K">4K</option><option value="other">other</option>',7),xe=[Ce],Ee=B({props:{data:Object,_open:{type:Boolean,default:!1},i:Number},emits:["custom-change","custom-focus","custom-delete"],setup(f,{emit:l}){const e=f,g={off:{height:0,duration:.3,ease:"cosine"},on:{height:"auto",duration:.3,ease:"sine"}},[d,$]=O(g.off,g.on),u=z({data(){return{text:u.value.text,type:u.value.type}},show:w(()=>{var t;return(t=e._open)!=null?t:!1}),text:w({get(){var t,o;return(o=v((t=e.data)==null?void 0:t.links))!=null?o:""},set(t){l("custom-change",e==null?void 0:e.i,{links:_(t),type:u.value.type})}}),type:w({get(){var t,o;return(o=(t=e.data)==null?void 0:t.type)!=null?o:"480p"},set(t){l("custom-change",e==null?void 0:e.i,{links:_(u.value.text),type:t})}})}),v=t=>t.join(`
`),_=t=>t.split(`
`).map(o=>o.trim()),E=()=>l("custom-delete",e.i),y=t=>{!t.target.classList.contains("close")&&l("custom-focus",e.i)};return(t,o)=>(m(),b("div",{class:"grid g-3 a-center br-6","data-c-select-link":"",onFocusin:y,tabindex:"0","data-component-link":"","data-padded":""},[s("div",$e,[x(s("select",{"onUpdate:modelValue":o[0]||(o[0]=k=>u.value.type=k),name:"type",class:"bg-white"},xe,512),[[N,u.value.type]])]),C(M,{onEnter:T(d),onLeave:T($)},{default:L(()=>[x(C(R,{modelValue:u.value.text,"onUpdate:modelValue":o[1]||(o[1]=k=>u.value.text=k),p:"Enter your links, each new one on a new line"},null,8,["modelValue"]),[[K,u.value.show]])]),_:1},8,["onEnter","onLeave"]),s("span",{onClick:E,tabindex:"1",class:"close cursor f-emoji br-6 grid a-center j-center"},"\u{1F5D1}")],32))}}),Se={class:"grid g-3","data-component-links":""},Ve=s("h3",{class:"f-round f-size-big"},"Links",-1),ze=s("span",{class:"f-emoji"},"\u2795",-1),Le=[ze],je=s("span",{class:"f-emoji f-size-small"},"\u{1F4BE}",-1),De=A(" Save "),Ae=[je,De],Ue=B({props:{data:null,linksArray:null},emits:["custom-change","add-link","custom-delete","custom-focus","custom-save"],setup(f,{emit:l}){const e=f,g={type:"movie"},d=z({booleans:{preview:!1,alert:!1},focus:-1});function $(o){d.value.focus=o!=null?o:-1}const u={focus:$,alert(){d.value.booleans.alert=!0},stopAlert(){d.value.booleans.alert=!1},preview(){d.value.booleans.preview=!0},stopPreview(){d.value.booleans.preview=!1}};function v(){l("add-link",g)}function _(o,k){l("custom-change",k,{...g,index:o})}function E(o){l("custom-delete",{...g,index:o})}function y(){l("custom-save",g)}const t={addLink:v,changeLink:_,deleteLink:E,save:y};return(o,k)=>{const r=q("my-alert");return m(),b("div",Se,[Ve,s("button",{onClick:k[0]||(k[0]=(...c)=>t.addLink&&t.addLink(...c)),class:"pin-2 pbl-2 f-round br-3 bg-bt c-white f-size-small btn"},Le),C(Q,{name:"link",tag:"ul",class:"grid g-4",appear:""},{default:L(()=>[(m(!0),b(j,null,D(e.linksArray,(c,p)=>(m(),G(Ee,{onCustomFocus:u.focus,onCustomChange:t.changeLink,onCustomDelete:t.deleteLink,_open:d.value.focus===p,i:p,data:c,key:p},null,8,["onCustomFocus","onCustomChange","onCustomDelete","_open","i","data"]))),128))]),_:1}),s("button",{class:"pin-7 pbl-3 br-3 bg-bt btn c-white flex a-center j-center g-2 f-size-a-big mt-5 text-center min-auto",onClick:k[1]||(k[1]=(...c)=>u.alert&&u.alert(...c))},Ae),C(r,{show:d.value.booleans.alert,onDone:t.save,onClose:u.stopAlert},{default:L(()=>[A(" Save `"+V(e.data.Title)+"`? ",1)]),_:1},8,["show","onDone","onClose"])])}}});export{Te as _,Ue as a,Be as b};
